language: node_js

os: linux

node_js:
  - lts/erbium
  - lts/dubnium

cache:
  directories:
    - $HOME/.npm

jobs:
  include:
    - name: "Node.js: 10.16.2 (Google Cloud Functions)"
      os: linux
      node_js: 10.16.2
    - name: "Node.js: latest (With coverage)"
      node_js: node
      after_success: cat coverage/lcov.info | npx coveralls
    - name: "Lint and Typecheck"
      node_js: node
      script: npm run lint && npm run typecheck
